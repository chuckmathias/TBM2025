{% extends "base.html" %}
{% load wagtailcore_tags wagtailimages_tags %}

{% block content %}
<div class="board-members-index">

    <!-- Header Section with fallback -->
    {% if page.header_image %}
    <div class="full-height-section board-header-section"
         style="background-image: url('{{ page.header_image.file.url }}'); background-size: cover; background-position: center;">
        <div class="overlay">
            <div class="grid-container">
                <h1>{{ page.title }}</h1>
                {% if page.intro %}
                    <div class="intro">{{ page.intro|richtext }}</div>
                {% endif %}
            </div>
        </div>
    </div>
    {% else %}
    <div class="board-header-section no-image" style="background: #0078d4; color: #fff;">
        <div class="grid-container">
            <h1>{{ page.title }}</h1>
            {% if page.intro %}
                <div class="intro">{{ page.intro|richtext }}</div>
            {% endif %}
        </div>
    </div>
    {% endif %}

    <!-- Board Members Grid (your cards go here) -->
    <div class="board-members-grid-modern">
        {% for member in board_members %}
            <a href="{% pageurl member %}" class="board-member-card-modern-link" id="member-{{ member.id }}">
                <div class="board-member-card-modern">
                    {% if member.profile_image %}
                    <div class="member-image">
                        {% image member.profile_image fill-300x300 %}
                    </div>
                    {% endif %}
                    <div class="member-info">
                        <h3>{{ member.title }}</h3>
                        {% if member.position %}
                            <p class="position">{{ member.position }}</p>
                        {% endif %}
                        {% if member.occupation %}
                            <p class="occupation">{{ member.occupation }}</p>
                        {% endif %}
                        <!-- Bio is intentionally hidden on index page -->
                    </div>
                </div>
            </a>
        {% endfor %}
    </div>
</div>
{% endblock %}