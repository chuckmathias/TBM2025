{% extends "base.html" %}
{% load wagtailcore_tags %}

{% block content %}
<div id="custom-page">

    <!-- Header Section -->

    {% if page.header_image %}
    <div id="header-section" class="full-height-section" 
        style="background-image: url('{{ page.header_image.file.url }}'); 
                background-size: cover; 
                background-position: center; 
                width: 100%; height: 100vh;">
        <div class="overlay">
            <h1>{{ page.title }}</h1>
        </div>
    </div>
    {% endif %}

    <!-- Dynamic Sections -->
    {% for section in page.sections %}
    {% if section.value.visible %}
    <div class="full-height-section" 
        style="background-image: url('{{ section.value.background_image.file.url }}'); 
                background-size: cover; 
                background-position: center; 
                width: 100%; height: 100vh;">
        <div class="grid-container">
            {% if section.value.title %}
            <h2>{{ section.value.title }}</h2>
            {% endif %}
            <div class="section-content">
                {{ section.value.content|richtext }}
            </div>
        </div>
    </div>
    {% endif %}
    {% endfor %}

</div>
{% endblock %}